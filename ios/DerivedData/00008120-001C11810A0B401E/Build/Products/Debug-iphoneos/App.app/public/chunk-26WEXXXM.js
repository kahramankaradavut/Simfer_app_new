import{a as j}from"./chunk-O6CUJMIQ.js";import{$ as y,C as m,F as p,G as u,H as h,Ka as L,L as C,Oa as E,Pa as G,Ra as W,S as _,Y as x,ca as M,k as c,ka as P,l as r,m as f,ma as I,na as v,p as w,q as i,r as a,ra as S,s as g,va as O,w as b,xa as k,ya as T}from"./chunk-EAJDEEHR.js";import"./chunk-43IKT4CI.js";import"./chunk-AEXNBF67.js";import"./chunk-ICLE6RHT.js";import"./chunk-ZG4R76UU.js";import"./chunk-DAQ5FXCF.js";import"./chunk-FUGLTCJS.js";import"./chunk-4WFVMWDK.js";import"./chunk-24GYF5IA.js";import"./chunk-NMYJD6OP.js";import"./chunk-C5RQ2IC2.js";import"./chunk-7D2EH4XU.js";import"./chunk-MMIXVVWR.js";import"./chunk-SV7S5NYR.js";import{g as d}from"./chunk-2R6CW7ES.js";var H=(()=>{class s{constructor(o,t,e,l){this.authService=o,this.toastController=t,this.router=e,this.loadingCtrl=l,this.username="",this.password=""}login(){return d(this,null,function*(){let o=yield this.loadingCtrl.create({message:"Giri\u015F yap\u0131l\u0131yor...",spinner:"circles"});yield o.present(),this.authService.login({username:this.username,password:this.password}).subscribe({next:t=>d(this,null,function*(){yield o.dismiss(),this.authService.setToken(t.token,t.role,this.username),localStorage.setItem("username",this.username),console.log("Giri\u015F ba\u015Far\u0131l\u0131:",t),console.log("Kullan\u0131c\u0131 rol\xFC:",t.role),yield(yield this.toastController.create({message:"Giri\u015F ba\u015Far\u0131l\u0131!",duration:2e3,color:"success",position:"bottom"})).present(),t.role==="SuperAdmin"?this.router.navigate(["/superAdmin"]):this.router.navigateByUrl("/",{replaceUrl:!0}).then(()=>{this.router.navigateByUrl("/tabs/tab1")})}),error:t=>d(this,null,function*(){yield o.dismiss(),console.error("Giri\u015F hatas\u0131:",t),yield(yield this.toastController.create({message:"Kullan\u0131c\u0131 ad\u0131 veya \u015Fifre hatal\u0131!",duration:2500,color:"danger",position:"bottom"})).present()})})})}static{this.\u0275fac=function(t){return new(t||s)(r(j),r(G),r(_),r(E))}}static{this.\u0275cmp=f({type:s,selectors:[["app-login"]],decls:16,vars:3,consts:[[3,"translucent"],[1,"custom-toolbar"],[1,"toolbar-logo"],["src","../assets/icon/sersim-yeni@300x.png",1,"logo"],[1,"ion-padding","content"],[1,"title"],["fill","outline","label","Kullan\u0131c\u0131 Ad\u0131",3,"ngModelChange","ngModel"],["fill","outline","type","password","label","\u015Eifre",3,"ngModelChange","ngModel"],["slot","end"],["expand","block",1,"login-button",3,"click"]],template:function(t,e){t&1&&(i(0,"ion-header",0)(1,"ion-toolbar",1)(2,"div",2),g(3,"img",3),a()()(),i(4,"ion-content",4)(5,"h1",5),m(6,"Giri\u015F Paneli"),a(),i(7,"ion-card")(8,"ion-card-content")(9,"ion-item")(10,"ion-input",6),h("ngModelChange",function(n){return u(e.username,n)||(e.username=n),n}),a()(),i(11,"ion-item")(12,"ion-input",7),h("ngModelChange",function(n){return u(e.password,n)||(e.password=n),n}),g(13,"ion-input-password-toggle",8),a()(),i(14,"ion-button",9),b("click",function(){return e.login()}),m(15,"Giri\u015F Yap"),a()()()()),t&2&&(w("translucent",!0),c(10),p("ngModel",e.username),c(2),p("ngModel",e.password))},dependencies:[C,M,x,y,k,O,L,S,I,v,T,P,W],styles:['@charset "UTF-8";ion-content[_ngcontent-%COMP%]{--background: linear-gradient(to bottom, #525c6c, #605d5d);padding-top:20px}.custom-toolbar[_ngcontent-%COMP%]{box-shadow:0 0 20px #0000001a;position:relative;min-height:56px}.toolbar-logo[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);top:50%;transform:translate(-50%,-50%);display:flex;align-items:center;justify-content:center;z-index:1}.logo[_ngcontent-%COMP%]{max-width:180px;width:100%;height:auto}@media (max-width: 768px){.logo[_ngcontent-%COMP%]{max-width:140px}}@media (max-width: 480px){.logo[_ngcontent-%COMP%]{max-width:110px}}.title[_ngcontent-%COMP%]{text-align:center;font-size:24px;font-weight:600;margin-bottom:20px}.login-button[_ngcontent-%COMP%]{--background: linear-gradient(to right, #156cf9d1, #5052ded0)}ion-content[_ngcontent-%COMP%]{background-color:#f9f9f9;padding-top:20px}ion-card[_ngcontent-%COMP%]{margin-bottom:20px;box-shadow:0 4px 12px #0000001a;border-radius:8px}']})}}return s})();export{H as LoginPage};
