import{O as a,S as l,a as r,c as n,e as i}from"./chunk-EAJDEEHR.js";var g=(()=>{class o{constructor(e,t){this.http=e,this.router=t,this.apiUrl="https://api2.sersim.com.tr/api/Users",this.tokenKey="token",this.roleKey="role",this.usernameKey="username",this.isLoggedIn=new r(!1),this.userRole=new r(null),this.userName=new r(null)}login(e){return this.http.post(`${this.apiUrl}/login`,e)}isAuthenticated(){return!!localStorage.getItem(this.tokenKey)}setToken(e,t,s){localStorage.setItem(this.tokenKey,e),localStorage.setItem(this.roleKey,t),localStorage.setItem(this.usernameKey,s),this.isLoggedIn.next(!0),this.userRole.next(t),this.userName.next(s)}getUsername(){return localStorage.getItem(this.usernameKey)}getToken(){return localStorage.getItem(this.tokenKey)}getRole(){return localStorage.getItem(this.roleKey)}logout(){localStorage.removeItem(this.tokenKey),localStorage.removeItem(this.roleKey),localStorage.removeItem(this.usernameKey),this.isLoggedIn.next(!1),this.userRole.next(null),this.userName.next(null),this.router.navigate(["/login"]).then(()=>{window.location.reload()})}isSuperAdmin(){return this.getRole()==="SuperAdmin"}static{this.\u0275fac=function(t){return new(t||o)(i(a),i(l))}}static{this.\u0275prov=n({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();export{g as a};
