import{O as l,S as h,a as r,c as a,e as s}from"./chunk-ZMLCJ3KU.js";var p=(()=>{let e=class e{constructor(t,o){this.http=t,this.router=o,this.apiUrl="https://api2.sersim.com.tr/api/Users",this.tokenKey="token",this.roleKey="role",this.usernameKey="username",this.isLoggedIn=new r(!1),this.userRole=new r(null),this.userName=new r(null)}login(t){return this.http.post(`${this.apiUrl}/login`,t)}isAuthenticated(){return!!localStorage.getItem(this.tokenKey)}setToken(t,o,n){localStorage.setItem(this.tokenKey,t),localStorage.setItem(this.roleKey,o),localStorage.setItem(this.usernameKey,n),this.isLoggedIn.next(!0),this.userRole.next(o),this.userName.next(n)}getUsername(){return localStorage.getItem(this.usernameKey)}getToken(){return localStorage.getItem(this.tokenKey)}getRole(){return localStorage.getItem(this.roleKey)}logout(){localStorage.removeItem(this.tokenKey),localStorage.removeItem(this.roleKey),localStorage.removeItem(this.usernameKey),this.isLoggedIn.next(!1),this.userRole.next(null),this.userName.next(null),this.router.navigate(["/login"]).then(()=>{window.location.reload()})}isSuperAdmin(){return this.getRole()==="SuperAdmin"}};e.\u0275fac=function(o){return new(o||e)(s(l),s(h))},e.\u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();export{p as a};
