import{a as B}from"./chunk-2CDHGK7T.js";import{C as p,F as u,G as h,H as f,Ia as G,L as _,Ma as L,Na as W,Pa as j,S as x,X as y,_ as M,ba as I,ia as P,k as g,ka as v,l as s,la as S,m as w,p as b,pa as O,q as a,r,s as m,ta as k,va as T,w as C,wa as E}from"./chunk-ZMLCJ3KU.js";import"./chunk-NBTCUQ3W.js";import"./chunk-F73I76IP.js";import"./chunk-7X6I3LK6.js";import"./chunk-RH7BGMYO.js";import"./chunk-XW3MSMGP.js";import"./chunk-KVP5425T.js";import"./chunk-4U6PRYVA.js";import"./chunk-KH562ESH.js";import"./chunk-JWIEPCRG.js";import"./chunk-C5RQ2IC2.js";import"./chunk-D4VGNZLR.js";import"./chunk-JHLW7V75.js";import"./chunk-SV7S5NYR.js";import{h as d}from"./chunk-LNJ3S2LQ.js";var R=(()=>{let i=class i{constructor(o,t,e,l){this.authService=o,this.toastController=t,this.router=e,this.loadingCtrl=l,this.username="",this.password=""}login(){return d(this,null,function*(){let o=yield this.loadingCtrl.create({message:"Giri\u015F yap\u0131l\u0131yor...",spinner:"circles"});yield o.present(),this.authService.login({username:this.username,password:this.password}).subscribe({next:t=>d(this,null,function*(){yield o.dismiss(),this.authService.setToken(t.token,t.role,this.username),localStorage.setItem("username",this.username),console.log("Giri\u015F ba\u015Far\u0131l\u0131:",t),console.log("Kullan\u0131c\u0131 rol\xFC:",t.role),yield(yield this.toastController.create({message:"Giri\u015F ba\u015Far\u0131l\u0131!",duration:2e3,color:"success",position:"bottom"})).present(),t.role==="SuperAdmin"?this.router.navigate(["/superAdmin"]):this.router.navigateByUrl("/",{replaceUrl:!0}).then(()=>{this.router.navigateByUrl("/tabs/tab1")})}),error:t=>d(this,null,function*(){yield o.dismiss(),console.error("Giri\u015F hatas\u0131:",t),yield(yield this.toastController.create({message:"Kullan\u0131c\u0131 ad\u0131 veya \u015Fifre hatal\u0131!",duration:2500,color:"danger",position:"bottom"})).present()})})})}};i.\u0275fac=function(t){return new(t||i)(s(B),s(W),s(x),s(L))},i.\u0275cmp=w({type:i,selectors:[["app-login"]],decls:16,vars:3,consts:[[3,"translucent"],[1,"custom-toolbar"],[1,"toolbar-logo"],["src","../assets/icon/sersim-yeni@300x.png",1,"logo"],[1,"ion-padding","content"],[1,"title"],["fill","outline","label","Kullan\u0131c\u0131 Ad\u0131",3,"ngModelChange","ngModel"],["fill","outline","type","password","label","\u015Eifre",3,"ngModelChange","ngModel"],["slot","end"],["expand","block",1,"login-button",3,"click"]],template:function(t,e){t&1&&(a(0,"ion-header",0)(1,"ion-toolbar",1)(2,"div",2),m(3,"img",3),r()()(),a(4,"ion-content",4)(5,"h1",5),p(6,"Giri\u015F Paneli"),r(),a(7,"ion-card")(8,"ion-card-content")(9,"ion-item")(10,"ion-input",6),f("ngModelChange",function(n){return h(e.username,n)||(e.username=n),n}),r()(),a(11,"ion-item")(12,"ion-input",7),f("ngModelChange",function(n){return h(e.password,n)||(e.password=n),n}),m(13,"ion-input-password-toggle",8),r()(),a(14,"ion-button",9),C("click",function(){return e.login()}),p(15,"Giri\u015F Yap"),r()()()()),t&2&&(b("translucent",!0),g(10),u("ngModel",e.username),g(2),u("ngModel",e.password))},dependencies:[_,I,y,M,T,k,G,O,v,S,E,P,j],styles:['@charset "UTF-8";ion-content[_ngcontent-%COMP%]{--background: linear-gradient(to bottom, #525c6c, #605d5d);padding-top:20px}.custom-toolbar[_ngcontent-%COMP%]{box-shadow:0 0 20px #0000001a;position:relative;min-height:56px}.toolbar-logo[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);top:50%;transform:translate(-50%,-50%);display:flex;align-items:center;justify-content:center;z-index:1}.logo[_ngcontent-%COMP%]{max-width:180px;width:100%;height:auto}@media (max-width: 768px){.logo[_ngcontent-%COMP%]{max-width:140px}}@media (max-width: 480px){.logo[_ngcontent-%COMP%]{max-width:110px}}.title[_ngcontent-%COMP%]{text-align:center;font-size:24px;font-weight:600;margin-bottom:20px}.login-button[_ngcontent-%COMP%]{--background: linear-gradient(to right, #156cf9d1, #5052ded0)}ion-content[_ngcontent-%COMP%]{background-color:#f9f9f9;padding-top:20px}ion-card[_ngcontent-%COMP%]{margin-bottom:20px;box-shadow:0 4px 12px #0000001a;border-radius:8px}']});let c=i;return c})();export{R as LoginPage};
